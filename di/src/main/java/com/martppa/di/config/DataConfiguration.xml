<?xml version = "1.0" encoding = "UTF-8"?>
<beans xmlns = "http://www.springframework.org/schema/beans"
    xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean id="RestCountriesCountryRestApi" class="com.martppa.data.repository.datasource.provider.rest.host.RestCountries.RestCountriesCountryRestApi" scope="singleton">
        <constructor-arg index="0" ref="RestFramework"/>
    </bean>

    <bean id="CountryProvider" class="com.martppa.data.repository.datasource.provider.rest.country.CountryRestProvider" scope="singleton">
        <constructor-arg index="0" ref="RestCountriesCountryRestApi"/>
    </bean>

    <bean id="CountryNetworkDataSource" class="com.martppa.data.repository.datasource.Network.CountryNetworkDataSource" scope="singleton">
        <constructor-arg index="0" ref="CountryProvider"/>
    </bean>

    <bean id="CountryDataSourceSimpleFactory" class="com.martppa.data.repository.datasource.Factory.CountryDataSourceSimpleFactory" scope="singleton">
        <constructor-arg index="0" ref="CountryNetworkDataSource"/>
    </bean>

    <bean id="CountryEntityMapper" class="com.martppa.data.entities.mappers.CountryEntityMapper"/>

    <bean id="JobExecutor" class="com.martppa.data.threading.JobExecutor"/>

    <bean id="WorkerExecutionThread" class="com.martppa.data.threading.WorkerExecutionThread">
        <constructor-arg index="0" ref="JobExecutor"/>
    </bean>

    <bean id="CountryRepository" class="com.martppa.data.repository.CountryRepositoryImpl" scope="singleton">
        <constructor-arg index="0" ref="CountryEntityMapper"/>
        <constructor-arg index="1" ref="CountryDataSourceSimpleFactory"/>
    </bean>
</beans>